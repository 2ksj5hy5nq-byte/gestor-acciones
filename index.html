<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Gestor de Acciones</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background:#0f172a;
  color:white;
  padding:15px;
}
input, select, button {
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:none;
}
button {
  background:#22c55e;
  color:black;
  font-weight:bold;
}
table {
  width:100%;
  margin-top:15px;
  border-collapse:collapse;
}
th, td {
  border-bottom:1px solid #334155;
  padding:6px;
  text-align:center;
}
</style>
</head>

<body>

<h2>ðŸ“ˆ Gestor de Acciones</h2>

<input id="accion" placeholder="AcciÃ³n">
<select id="tipo">
  <option value="COMPRA">Compra</option>
  <option value="VENTA">Venta</option>
</select>
<input id="cantidad" type="number" placeholder="Cantidad">
<input id="precio" type="number" step="0.01" placeholder="Precio">
<input id="fecha" type="date">
<button onclick="guardar()">Guardar</button>

<table>
<thead>
<tr>
<th>AcciÃ³n</th><th>Tipo</th><th>NÂº</th><th>Precio</th><th>Fecha</th><th>Total</th>
</tr>
</thead>
<tbody id="tabla"></tbody>
</table>

<h3 id="resumen"></h3>

<script>
let ops = JSON.parse(localStorage.getItem("ops")) || [];

function guardar() {
  const a = accion.value;
  const t = tipo.value;
  const n = Number(cantidad.value);
  const p = Number(precio.value);
  const f = fecha.value;

  if (!a || !n || !p || !f) {
    alert("Faltan datos");
    return;
  }

  ops.push({a,t,n,p,f});
  localStorage.setItem("ops", JSON.stringify(ops));
  pintar();
}

function pintar() {
  tabla.innerHTML = "";
  let total = 0;

  ops.forEach(o => {
    const signo = o.t === "VENTA" ? -1 : 1;
    const val = o.n * o.p * signo;
    total += val;

    tabla.innerHTML += `
      <tr>
        <td>${o.a}</td>
        <td>${o.t}</td>
        <td>${o.n}</td>
        <td>${o.p}</td>
        <td>${o.f}</td>
        <td>${val.toFixed(2)} â‚¬</td>
      </tr>
    `;
  });

  resumen.textContent = "Resultado total: " + total.toFixed(2) + " â‚¬";
}

pintar();
</script>

</body>
</html>
